===========================================
COMANDOS PARA GERAR E APLICAR MIGRATIONS
===========================================

üìÅ PASSO 1: Navegar at√© a pasta do projeto
-------------------------------------------
cd sistepad-api\sisteped-api


üì¶ PASSO 2: (Opcional) Fazer backup do banco
---------------------------------------------
Copy-Item sisteped.db sisteped.db.backup


üîÑ PASSO 3: Criar a Migration
-------------------------------------------
dotnet ef migrations add RestructureToGridGradeAndStudentGrade

Este comando ir√°:
- Analisar todas as mudan√ßas nos modelos
- Criar arquivos de migration em Migrations/
- Incluir: GridGrade, StudentGrade, remover StudentGrid


‚úÖ PASSO 4: Aplicar a Migration ao Banco
-------------------------------------------
dotnet ef database update

Este comando ir√°:
- Aplicar todas as migrations pendentes
- Criar tabelas GridGrades e StudentGrades
- Remover tabela StudentGrids (se existir)
- Atualizar relacionamentos


üîç PASSO 5: Verificar Migrations Aplicadas
-------------------------------------------
dotnet ef migrations list


===========================================
SEQU√äNCIA COMPLETA (copiar e colar)
===========================================

cd sistepad-api\sisteped-api
dotnet ef migrations add RestructureToGridGradeAndStudentGrade
dotnet ef database update
dotnet ef migrations list


===========================================
RESOLU√á√ÉO DE PROBLEMAS
===========================================

‚ùå Erro: "No DbContext was found"
‚úÖ Solu√ß√£o: Certifique-se de estar em sistepad-api\sisteped-api

‚ùå Erro: "The process cannot access the file"
‚úÖ Solu√ß√£o: Feche o Visual Studio/IDE e processos usando o banco

‚ùå Erro: "Build failed"
‚úÖ Solu√ß√£o: Execute primeiro: dotnet build
           Corrija os erros antes de criar a migration

‚ùå Migration com conflitos
‚úÖ Solu√ß√£o: 
   dotnet ef migrations remove
   (corrigir problemas)
   dotnet ef migrations add RestructureToGridGradeAndStudentGrade


===========================================
VERIFICA√á√ÉO P√ìS-MIGRATION
===========================================

Ap√≥s aplicar, verifique se as tabelas foram criadas:

sqlite3 sisteped.db ".tables"
sqlite3 sisteped.db ".schema GridGrades"
sqlite3 sisteped.db ".schema StudentGrades"

Ou use um cliente SQLite para visualizar o banco.
